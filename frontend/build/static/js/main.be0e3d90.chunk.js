(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{119:function(n,e,t){"use strict";t.r(e);var r,c,a,i,o=t(2),s=t.n(o),d=t(70),l=t.n(d),j=(t(84),t(14)),u=t(10),b=t(12),p=t.n(b),x=t(23),h=t(15),f=t(49),O=t(7),g=t(8),v=g.c.div(r||(r=Object(O.a)(["\n    width: 80%;\n    margin: 0 auto;\n    padding:20px;\n"]))),m=g.c.div(c||(c=Object(O.a)(["\nwidth:100%;\ndiv {\n    margin: auto auto;\n}\n\n"]))),y=g.c.div(a||(a=Object(O.a)(["\n    display:flex;\n    flex-direction:row;\n    justify-content:space-between;\n    align-items:center;\n    a{\n        background: #e2e2e2;\n        padding:5px;\n        \n        border-radius:6px;\n        :hover {\n            color:#fff;\n        }\n    }\n    button{\n        background: #e2e2e2;\n        padding:5px;\n        border:none;\n        border-radius:6px;\n        :hover {\n            color:#fff;\n        }\n        margin-left:5px;\n    }\n"]))),w=g.c.div(i||(i=Object(O.a)(["\n    text-align:center;\n    font-weight:bold;\n    font-size:20px;\n"])));function k(n){return C.apply(this,arguments)}function C(){return(C=Object(x.a)(p.a.mark((function n(e){var t;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch(e);case 3:return t=n.sent,n.abrupt("return",t.json());case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}function S(n,e){return P.apply(this,arguments)}function P(){return(P=Object(x.a)(p.a.mark((function n(e,t){var r,c;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},n.prev=1,n.next=4,fetch(e,r);case 4:return c=n.sent,n.abrupt("return",c.json());case 8:n.prev=8,n.t0=n.catch(1),console.error(n.t0);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))).apply(this,arguments)}function T(n){return D.apply(this,arguments)}function D(){return(D=Object(x.a)(p.a.mark((function n(e){var t,r;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={method:"DELETE",headers:{"Content-Type":"application/json"}},n.prev=1,n.next=4,fetch(e,t);case 4:return r=n.sent,n.abrupt("return",r.json());case 8:n.prev=8,n.t0=n.catch(1),console.error(n.t0);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))).apply(this,arguments)}var z=t(50),E=t(51),_=t(4),F=Object(o.createContext)(),L=function(n){var e=n.children,t=Object(o.useState)(null),r=Object(h.a)(t,2),c=r[0],a=r[1];return Object(_.jsx)(F.Provider,{value:{post:c,handleSelectPost:function(n){a(n)}},children:e})};function I(){return Object(o.useContext)(F)}var J=t(43),M=t.n(J),N=function(){var n=Object(o.useState)(!0),e=Object(h.a)(n,2),t=e[0],r=e[1],c=Object(o.useState)([]),a=Object(h.a)(c,2),i=a[0],s=a[1],d=Object(o.useState)(!0),l=Object(h.a)(d,2),b=l[0],O=l[1],g=Object(u.g)(),C=Object(u.f)(),S=I().handleSelectPost,P=function(){var n=Object(x.a)(p.a.mark((function n(){var e;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,k("/api/posts");case 2:e=n.sent,s(e),r(!1);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();Object(o.useEffect)((function(){"/admin/list"===g.pathname&&O(!1),P()}),[g.pathname]);var D=function(n,e){S(e),C.push({pathname:n})},F=function(){var n=Object(x.a)(p.a.mark((function n(e){return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(!0),n.next=3,T("/api/posts/".concat(e));case 3:return S(null),n.next=6,P();case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return t?Object(_.jsx)(m,{children:Object(_.jsx)(M.a,{color:"#ff7",height:"10%",width:"10%"})}):i.length<=0?Object(_.jsx)(w,{children:"No posts created"}):i.map((function(n){return Object(_.jsxs)(v,{children:[Object(_.jsxs)(y,{children:[Object(_.jsx)("span",{}),Object(_.jsx)(w,{children:n.title}),b?Object(_.jsx)(j.b,{onClick:function(){return D("/".concat(n.category.name,"/").concat(n.title),n)},children:"View"}):Object(_.jsxs)("div",{children:[Object(_.jsx)(j.b,{onClick:function(){return D("/admin/edit",n)},children:"Edit"}),Object(_.jsx)("button",{onClick:function(){return F(n._id)},children:"Delete"})]})]}),Object(_.jsx)(f.a,{remarkPlugins:[E.a],rehypePlugins:[z.a],children:n.content})]},n._id)}))};var A,B,R,V,q,G,H,K,Q,U,W,X,Y,Z,$=function(){return Object(_.jsx)(N,{})},nn=g.c.div(A||(A=Object(O.a)(["\n    width: 80%;\n    margin: 0 auto;\n    padding:20px;\n"]))),en=g.c.div(B||(B=Object(O.a)(["\n    display:flex;\n    flex-direction:row;\n    justify-content:center;\n    align-items:center;\n    a{\n        background: #e2e2e2;\n        padding:5px;\n        border-radius:6px;\n        :hover {\n            color:#fff;\n        }\n    }\n"]))),tn=g.c.div(R||(R=Object(O.a)(["\n    text-align:center;\n    font-weight:bold;\n    font-size:20px;\n"]))),rn=function(){var n=I().post;return n?Object(_.jsxs)(nn,{children:[Object(_.jsx)(en,{children:Object(_.jsx)(tn,{children:n.title})}),Object(_.jsx)(f.a,{remarkPlugins:[E.a],rehypePlugins:[z.a],children:n.content})]}):null},cn=g.c.div(V||(V=Object(O.a)(["\n    display:flex;\n    justify-content:center;\n    height:80vh;\n"]))),an=g.c.div(q||(q=Object(O.a)(["\nwidth:100%;\ndiv {\n    margin: auto auto;\n}\n\n"]))),on=g.c.div(G||(G=Object(O.a)(["\n    display:flex;\n    border: 1px solid #e2e2e2;\n    border-radius:6px;\n    box-shadow:0px 1px 3px 0px;\n    padding: 30px;\n    width: 500px;\n    height:100%;\n    flex-direction:column;\n    align-items:flex-start;\n    justify-content:space-between;\n    margin: 10px 0;\n    p{\n        margin:10px 0;\n    }\n\n   \n"]))),sn=g.c.select(H||(H=Object(O.a)(["\n    margin: 8px 0;\n    border: 1px solid #eee;\n    padding: 8px;\n    border-radius: 4px;\n    font-size: 17px;\n    width: 300px;\n\n    :hover{\n        border: 1px solid #ddd;\n    }\n   \n"]))),dn=g.c.div(K||(K=Object(O.a)(["\n    border: 1px solid #e2e2e2;\n    border-radius:6px;\n    box-shadow:0px 1px 3px 0px;\n    padding: 30px;\n    width: 500px;\n    height:100%;\n    flex-direction:column;\n    align-items:flex-start;\n    justify-content:space-between;\n    margin: 10px 0; \n"]))),ln=g.c.input(Q||(Q=Object(O.a)(["\n    margin: 8px 0;\n    width:220px;\n    border: 1px solid #eee;\n    padding: 8px;\n    border-radius: 4px;\n    font-size: 17px;\n    margin-right:20px;\n    :hover{\n        border: 1px solid #ddd;\n    }\n    ","\n"])),(function(n){return n.error&&Object(g.b)(U||(U=Object(O.a)(["\n        border: 1px solid red;\n    "])))})),jn=g.c.textarea(W||(W=Object(O.a)(["\n    width:100%;\n    height:100%;\n    resize:none;\n    border: 1px solid #eee;\n    outline:none;\n    font-size:17px;\n    ","\n"])),(function(n){return n.error&&Object(g.b)(X||(X=Object(O.a)(["\n        border: 1px solid red;\n    "])))})),un=g.c.button(Y||(Y=Object(O.a)(["\ndisplay: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 15px;\n  color: #fff;\n  background: #C2C2C2;\n  width: 142px;\n  height: 36px;\n  border: none;\n  padding: 8px;\n  margin: 10px 0;\n  border-radius: 4px;\n  font-weight: bold;\n\n  :hover {\n    background: #e2e2e2;\n  }\n"]))),bn=g.c.p(Z||(Z=Object(O.a)(["\n    color:#fff;\n    background-color:red;\n    padding:5px;\n    border-radius:4px;\n    width:100%\n"]))),pn=t(77);t(118);var xn,hn,fn=function(){var n=Object(o.useState)(!1),e=Object(h.a)(n,2),t=e[0],r=e[1],c=Object(o.useState)(""),a=Object(h.a)(c,2),i=a[0],s=a[1],d=Object(o.useState)(""),l=Object(h.a)(d,2),j=l[0],b=l[1],f=Object(o.useState)("Technology"),O=Object(h.a)(f,2),g=O[0],v=O[1],m=Object(o.useState)(!1),y=Object(h.a)(m,2),w=y[0],k=y[1],C=Object(o.useState)(null),P=Object(h.a)(C,2),T=P[0],D=P[1],z=Object(o.useState)(new Date),E=Object(h.a)(z,2),F=E[0],L=E[1],J=Object(u.f)(),N=I().post;Object(o.useEffect)((function(){N&&(s(N.title),b(N.content),v(N.category.name),D(N._id),N.created_at&&L(new Date(N.created_at)))}),[N]);var A=function(){var n=Object(x.a)(p.a.mark((function n(){return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(k(!1),!(i.length<=0||j.length<=0)){n.next=5;break}k(!0),n.next=12;break;case 5:return r(!0),n.next=8,S("/api/posts/create",{title:i,content:j,category:g,id:T,date:F});case 8:s(""),b(""),L(new Date),J.push("/admin/list");case 12:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return t?Object(_.jsx)(an,{children:Object(_.jsx)(M.a,{color:"#ff7",height:"10%",width:"10%"})}):Object(_.jsxs)(cn,{children:[Object(_.jsxs)(on,{children:[Object(_.jsx)("p",{children:"Category"}),Object(_.jsxs)(sn,{value:g,onChange:function(n){return v(n.target.value)},children:[Object(_.jsx)("option",{children:"Technology"}),Object(_.jsx)("option",{children:"Travel"}),Object(_.jsx)("option",{children:"Car"}),Object(_.jsx)("option",{children:"Sport"})]}),Object(_.jsx)("p",{children:"Title"}),Object(_.jsx)(ln,{value:i,error:w,placeholder:"Title",onChange:function(n){return s(n.target.value)}}),Object(_.jsx)("p",{children:"Markdown Content"}),Object(_.jsx)(jn,{value:j,error:w,onChange:function(n){return b(n.target.value)}}),Object(_.jsx)(un,{onClick:A,children:"Save"}),w?Object(_.jsx)(bn,{children:"All fields are required!"}):null]}),Object(_.jsxs)(dn,{children:[Object(_.jsx)("p",{children:"Creation Date"}),Object(_.jsx)(pn.a,{value:F,onChange:L,defaultValue:F})]})]})},On=g.c.div(xn||(xn=Object(O.a)(["\n   background: #fff;\n   color:#444;\n"]))),gn=g.c.div(hn||(hn=Object(O.a)(["\n  height: 58px;\n  display:flex;\n  justify-content: center;\n  align-items:center;\n  background-color: rgb(45.6%, 45.6%, 49.1%);\n  a{\n      padding:5px;\n      border-radius:6px;\n      color:#444;\n      text-decoration:none;\n      font-weight:bold;\n      background-color: rgb(25.6%, 45.6%, 49.1%);\n    }\n  nav{\n    display:flex;\n    justify-content:center;\n    align-items:center; \n    margin:10px;\n    \n  \n  }\n  aside{\n   \n    display:flex;\n    justify-content:center;\n    align-items:center;\n    margin-right:20px;\n }\n"])));function vn(){var n=I().handleSelectPost;return Object(_.jsx)(On,{children:Object(_.jsxs)(gn,{children:[Object(_.jsx)("nav",{children:Object(_.jsx)(j.b,{to:"/admin/create",onClick:function(){return n(null)},children:"Create a Post"})}),Object(_.jsx)("section",{children:Object(_.jsx)(j.b,{to:"/admin/list",children:"List Post"})})]})})}var mn,yn,wn,kn=function(){return Object(_.jsxs)(j.a,{children:[Object(_.jsx)(vn,{}),Object(_.jsxs)(u.c,{children:[Object(_.jsx)(u.a,{exact:!0,path:"/admin/list",children:Object(_.jsx)(N,{})}),Object(_.jsx)(u.a,{path:"/admin/create",children:Object(_.jsx)(fn,{})}),Object(_.jsx)(u.a,{path:"/admin/edit",children:Object(_.jsx)(fn,{})})]})]})},Cn=g.c.div(mn||(mn=Object(O.a)(["\n   background: #444;\n   color:#fff;\n"]))),Sn=g.c.div(yn||(yn=Object(O.a)(["\n  height: 58px;\n  display:flex;\n  justify-content: center;\n  a{\n      padding:5px;\n      border-radius:6px;\n      color:#fff;\n      text-decoration:none;\n      font-weight:bold;\n      background-color: rgb(45.6%, 45.6%, 49.1%);\n    }\n  nav{\n    display:flex;\n    justify-content:center;\n    align-items:center; \n    margin:10px;\n    \n  \n  }\n  aside{\n   \n    display:flex;\n    justify-content:center;\n    align-items:center;\n    margin-right:20px;\n }\n"])));function Pn(){return Object(_.jsx)(Cn,{children:Object(_.jsxs)(Sn,{children:[Object(_.jsx)("nav",{children:Object(_.jsx)(j.b,{to:"/",children:"POSTS"})}),Object(_.jsx)("aside",{children:Object(_.jsx)(j.b,{to:"/admin",children:"ADMIN"})})]})})}var Tn=Object(g.a)(wn||(wn=Object(O.a)(["\n@import url('https://fonts.googleapis.com/css?family=Roboto:400,700&display=swap');\n*{\n  margin:0;\n  padding:0;\n  outline:0;\n  box-sizing: border-box;\n}\n*:focus{\n  outline:0;\n}\nhtml, body, #root{\n  height:100%;\n}\nbody{\n  -webkit-font-smoothing:antialiased;\n}\nbody, input, textarea, button{\n  font:14px 'Roboto', sans-serif;\n}\na{\n  text-decoration:none;\n  \n}\na, button{\n  cursor: pointer;\n}\n"])));var Dn=function(){return Object(_.jsx)(L,{children:Object(_.jsxs)(j.a,{children:[Object(_.jsx)(Pn,{}),Object(_.jsxs)(u.c,{children:[Object(_.jsx)(u.a,{exact:!0,path:"/",children:Object(_.jsx)($,{})}),Object(_.jsx)(u.a,{exact:!0,path:"/:category/:title",children:Object(_.jsx)(rn,{})}),Object(_.jsx)(u.a,{path:"/admin",children:Object(_.jsx)(kn,{})})]}),Object(_.jsx)(Tn,{})]})})},zn=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,128)).then((function(e){var t=e.getCLS,r=e.getFID,c=e.getFCP,a=e.getLCP,i=e.getTTFB;t(n),r(n),c(n),a(n),i(n)}))};l.a.render(Object(_.jsx)(s.a.StrictMode,{children:Object(_.jsx)(Dn,{})}),document.getElementById("root")),zn()},84:function(n,e,t){}},[[119,1,2]]]);
//# sourceMappingURL=main.be0e3d90.chunk.js.map